# üé§ Voice ID vs File ID - –í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üìã –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É voice_id –∏ file_id

- **`file_id`** - —ç—Ç–æ ID –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `moss_audio_c58a23ef-d454-11f0-b86f-92cea958fabe`)
- **`voice_id`** - —ç—Ç–æ ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥–æ–ª–æ—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `voice_abc123xyz...`)

## üéØ –í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ voice_id (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å `voice_id` (—Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ API –∏–ª–∏ –∏–∑ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ Minimax)
- –ì–æ–ª–æ—Å —É–∂–µ —Å–æ–∑–¥–∞–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ Minimax

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚ö° –ë—ã—Å—Ç—Ä–µ–µ - –Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–æ–ª–æ—Å –∫–∞–∂–¥—ã–π —Ä–∞–∑
- üí∞ –≠–∫–æ–Ω–æ–º–∏—á–Ω–µ–µ - –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è –≤—Ä–µ–º—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
- üéØ –ü—Ä–æ—â–µ - –Ω–µ –Ω—É–∂–µ–Ω `file_id` –∏ `prompt_audio_file_id`

**–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:**
```bash
/set_minimax_voice <voice_id> true
```

**–ü—Ä–∏–º–µ—Ä:**
```bash
/set_minimax_voice voice_abc123xyz true
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–æ–¥–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `voice_id`
- `file_id` **–Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è** (–Ω–µ –Ω—É–∂–µ–Ω)
- `prompt_audio_file_id` **–Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è** (–Ω–µ –Ω—É–∂–µ–Ω)
- `prompt_text` **–Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è** (–Ω–µ –Ω—É–∂–µ–Ω)

---

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ file_id (—Å–æ–∑–¥–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞ –Ω–∞ –ª–µ—Ç—É)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –£ –≤–∞—Å –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ `file_id` (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –∞—É–¥–∏–æ —Ñ–∞–π–ª)
- –ù–µ—Ç `voice_id` (–≥–æ–ª–æ—Å –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)
- –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–æ–ª–æ—Å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üöÄ –ù–µ –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–æ–ª–æ—Å
- üîÑ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚è±Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ - –≥–æ–ª–æ—Å —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
- üí∞ –î–æ—Ä–æ–∂–µ - —Ç—Ä–∞—Ç–∏—Ç—Å—è –≤—Ä–µ–º—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞

**–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:**
```bash
/set_minimax_voice <voice_id> <file_id> <prompt_audio_file_id> true
```

**–ò–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç—å voice_id:**
```bash
/get_voice_id <file_id>
```

**–ü—Ä–∏–º–µ—Ä:**
```bash
/get_voice_id moss_audio_c58a23ef-d454-11f0-b86f-92cea958fabe
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–æ–¥–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `file_id` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–æ–ª–æ—Å–∞ –Ω–∞ –ª–µ—Ç—É
- –ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è `clone_prompt` —Å `prompt_audio` –∏ `prompt_text`
- –ì–æ–ª–æ—Å —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ

---

## üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–¥

### –í —Ñ—É–Ω–∫—Ü–∏–∏ `generate_minimax_voice`:

```python
# –†–µ–∂–∏–º 1: –ï—Å–ª–∏ –µ—Å—Ç—å voice_id - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –µ–≥–æ
if voice_id:
    payload["voice_id"] = voice_id
    # file_id –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–Ω–µ –Ω—É–∂–µ–Ω!)

# –†–µ–∂–∏–º 2: –ï—Å–ª–∏ –Ω–µ—Ç voice_id, –Ω–æ –µ—Å—Ç—å file_id - —Å–æ–∑–¥–∞–µ–º –≥–æ–ª–æ—Å –Ω–∞ –ª–µ—Ç—É
elif file_id:
    payload["file_id"] = file_id
    payload["clone_prompt"] = {
        "prompt_audio": prompt_audio_file_id or file_id,
        "prompt_text": prompt_text or "This voice sounds natural and pleasant."
    }
```

### –í `user_service.py`:

```python
# –ï—Å–ª–∏ –µ—Å—Ç—å voice_id - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –µ–≥–æ (file_id –Ω–µ –Ω—É–∂–µ–Ω)
if minimax_voice.voice_id:
    voice_bytes = await generate_minimax_voice(
        voice_id=minimax_voice.voice_id,
        file_id=None,  # –ù–µ –Ω—É–∂–µ–Ω!
        prompt_audio_file_id=None,  # –ù–µ –Ω—É–∂–µ–Ω!
        ...
    )
# –ï—Å–ª–∏ –Ω–µ—Ç voice_id, –Ω–æ –µ—Å—Ç—å file_id - —Å–æ–∑–¥–∞–µ–º –≥–æ–ª–æ—Å –Ω–∞ –ª–µ—Ç—É
elif minimax_voice.file_id:
    voice_bytes = await generate_minimax_voice(
        voice_id=None,
        file_id=minimax_voice.file_id,
        prompt_audio_file_id=minimax_voice.prompt_audio_file_id or minimax_voice.file_id,
        ...
    )
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å `voice_id`** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –µ–≥–æ:
   ```bash
   /set_minimax_voice <voice_id> true
   ```
   –ù–µ –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `file_id` - –æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è!

2. **–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ `file_id`** - –ø–æ–ª—É—á–∏—Ç–µ `voice_id` –æ–¥–∏–Ω —Ä–∞–∑:
   ```bash
   /get_voice_id <file_id>
   ```
   –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π `voice_id` (–≤–∞—Ä–∏–∞–Ω—Ç 1).

3. **–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≥–æ–ª–æ—Å–∞** - —Å–æ–∑–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ `voice_id` –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É –Ω–∏–º–∏.

---

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ó–∞—á–µ–º –Ω—É–∂–µ–Ω `file_id`, –µ—Å–ª–∏ –µ—Å—Ç—å `voice_id`?**  
A: `file_id` **–Ω–µ –Ω—É–∂–µ–Ω**, –µ—Å–ª–∏ –µ—Å—Ç—å `voice_id`. –ö–æ–¥ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω - `file_id` –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –µ—Å—Ç—å `voice_id`.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `file_id` –±–µ–∑ `voice_id`?**  
A: –î–∞, –Ω–æ —ç—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ - –≥–æ–ª–æ—Å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ.

**Q: –ß—Ç–æ –ª—É—á—à–µ - `voice_id` –∏–ª–∏ `file_id`?**  
A: `voice_id` –ª—É—á—à–µ - –±—ã—Å—Ç—Ä–µ–µ –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω–µ–µ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/get_voice_id` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `voice_id` –∏–∑ `file_id`.

**Q: –ù—É–∂–Ω–æ –ª–∏ —É–∫–∞–∑—ã–≤–∞—Ç—å `file_id` –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, –µ—Å–ª–∏ –µ—Å—Ç—å `voice_id`?**  
A: –ù–µ—Ç, –Ω–µ –Ω—É–∂–Ω–æ. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ `voice_id`:
```bash
/set_minimax_voice <voice_id> true
```

